const _0xebe5=['<br>','ERR:','ended','resultString','mousePressed','getElementById','es-ES','chat\x20bot','value','log','start','substr','#output','SpeechRec','Speech','pr\x20nombre','SANNA.rive','Chatbot\x20error!','Google\x20espaÃ±ol','Disculpa,\x20no\x20te\x20puedo\x20entender.','reply','pr\x20dni','started','local-user','User','getVariable','#submit','indexOf','replace','soy\x20','resultValue','user','dni','html','#user_input','res','edad','Enviando:','lastIndexOf','&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;::&emsp;','SANNA\x27s\x20ChatBot&emsp;::&emsp;','sortReplies'];(function(_0x39745f,_0x3a5230){const _0xf19795=function(_0x324261){while(--_0x324261){_0x39745f['push'](_0x39745f['shift']());}};_0xf19795(++_0x3a5230);}(_0xebe5,0x15f));const _0x31f2=function(_0x39745f,_0x3a5230){_0x39745f=_0x39745f-0x0;let _0xf19795=_0xebe5[_0x39745f];return _0xf19795;};var name=_0x31f2('0x9');let dni;let edad;let bot;let value;let input;let reply;let BOT=_0x31f2('0x19');let button;let user_input;let output;let log='';let last_bot_ok='';let speech;let speechRec;let continuous=!![];let interim=![];function setup(){noCanvas();speech=new p5[(_0x31f2('0x29'))](_0x31f2('0x3'));speechRec=new p5[(_0x31f2('0x28'))](_0x31f2('0x21'),gotSpeech);bot=new RiveScript();bot['loadFile'](_0x31f2('0x1'),_0x4378c7,_0x55ea8a);speechRec[_0x31f2('0x25')](continuous,interim);function _0x4378c7(){console[_0x31f2('0x24')]('Chatbot\x20ready!');bot[_0x31f2('0x1a')]();}function _0x55ea8a(){console[_0x31f2('0x24')](_0x31f2('0x2'));}button=select(_0x31f2('0xb'));user_input=select(_0x31f2('0x13'));output=select(_0x31f2('0x27'));button[_0x31f2('0x1f')](chat);}let inputSpeech;function gotSpeech(){if(speechRec[_0x31f2('0xf')]){inputSpeech=speechRec[_0x31f2('0x1e')];value=bot['getVariable'](_0x31f2('0x14'));if(value==='6'){inputSpeech=inputSpeech[_0x31f2('0xd')](/ /g,'');}user_input['value'](inputSpeech);chat();}}function keyPressed(){if(keyCode===ENTER){chat();}}function procesar(_0x3c64ca){document[_0x31f2('0x20')]('user_input')[_0x31f2('0x23')]='';if(_0x3c64ca['startsWith'](_0x31f2('0x1c'))){console[_0x31f2('0x24')](_0x3c64ca);botDice(_0x31f2('0x4'));botDice(last_bot_ok);}else{last_bot_ok=_0x3c64ca;extraerVariables();logica(_0x3c64ca);}}function logica(_0x1ac0b4){let _0x51b6c5=_0x1ac0b4;value=bot['getVariable'](_0x31f2('0x14'));console[_0x31f2('0x24')](value);switch(value){case'1':botDice(_0x1ac0b4);_0x51b6c5=bot[_0x31f2('0x5')](_0x31f2('0x8'),_0x31f2('0x0'));procesar(_0x51b6c5);break;case'2':botDice(_0x1ac0b4);_0x51b6c5=bot[_0x31f2('0x5')](_0x31f2('0x8'),_0x31f2('0x6'));procesar(_0x51b6c5);break;case'3':botDice(_0x1ac0b4);_0x51b6c5=bot[_0x31f2('0x5')](_0x31f2('0x8'),_0x31f2('0x22'));procesar(_0x51b6c5);break;default:botDice(_0x51b6c5);}}function chat(){user_input=select(_0x31f2('0x13'));input=user_input[_0x31f2('0x23')]();userDice(input);switch(value){case'7':if(input[_0x31f2('0xc')]('\x20')>=0x0){var _0x38b83f=input[_0x31f2('0x26')](input[_0x31f2('0x17')]('\x20')+0x1);input='soy\x20'+_0x38b83f;}else{input=_0x31f2('0xe')+input;}break;case'6':if(isNumber(input)){input='mi\x20dni\x20es\x20'+input;}break;default:break;}console[_0x31f2('0x24')](_0x31f2('0x16')+input);reply=bot[_0x31f2('0x5')]('local-user',input);procesar(reply);}function botDice(_0x3665a5){speech['speak'](_0x3665a5);speech[_0x31f2('0x7')](startSpeaking);speech[_0x31f2('0x1d')](endSpeaking);log=log+BOT+_0x3665a5+'<br>';output[_0x31f2('0x12')](log);}function startSpeaking(){}function endSpeaking(){}function userDice(_0x7a1588){log=log+name+_0x31f2('0x18')+_0x7a1588+_0x31f2('0x1b');output[_0x31f2('0x12')](log);}function extraerVariables(){name=getR(_0x31f2('0x10'));dni=getR(_0x31f2('0x11'));edad=getR(_0x31f2('0x15'));}function getR(_0x199a99){var _0x20bd75=bot[_0x31f2('0xa')](_0x199a99);console['log'](_0x199a99+':'+_0x20bd75);return _0x20bd75;}function isNumber(_0x458258){return!isNaN(parseFloat(_0x458258))&&isFinite(_0x458258);}